{% extends 'base.html' %}
{% from 'bootstrap/utils.html' import render_messages %}
{% from 'macro/form_errors.html' import print_error %}


{% block title %}
    注册
{% endblock %}

{% block js %}
    <script src="{{ url_for('static', filename="js/base.js") }}"></script>
{% endblock %}

{% block content %}
    <div class="container">
        <div class="row clearfix">
            <div class="col-md-4 column">
            </div>
            <div class="col-md-4 column">
                {{ render_messages(container=False, dismissible=True, dismiss_animate=True) }}
                <form action="" class="form-signin" method="post">
                    {{ form.csrf_token() }}
                    <fieldset>
                        <div class="form-group clearfix">
                            <label for="usernameInput">用户名</label>
                            <input type="text" class="form-control" name="username" placeholder="不少于2个字符" id="usernameInput">
                            {{ print_error(form, name="username") }}
                            <label for="exampleInputEmail1">邮箱</label>
                            <input type="email" class="form-control" name="email" aria-describedby="emailHelp" placeholder="使用邮箱激活账户" id="exampleInputEmail">
                            {{ print_error(form, name="email") }}
                            <label for="exampleInputPassword1" style="float: left;">密码</label>
                            <input type="password" class="form-control" id="exampleInputPassword1" placeholder="至少6位,包含字母数字大小写" name="password">
                            {{ print_error(form, name="password") }}
                            <label for="exampleInputPassword2" style="float: left;">重复密码</label>
                            <input type="password" class="form-control" id="exampleInputPassword2" placeholder="确认密码" name="password2">
                            {{ print_error(form, name="password2") }}
                            <label for="Code">验证码</label>
                            <div class="clearfix">
                                <input type="text" class="form-control" name="code" placeholder="验证码" style="width: 62%; float:left">
                                <img src="{{ url_for('commons.graph_captcha') }}" alt="code" style="float: right; width: 35%; margin: 4px auto;" id="ver_code">
                            </div>
                            {{ print_error(form, name="code") }}
                        </div>
                        <div class="form-check">
                            <label class="form-check-label">
                                <input class="form-check-input" type="checkbox" name="confirmed">
                                我已阅读并同意<a href="{{ url_for('auth.auth_protocol') }}">TodoList用户注册协议</a>
                            </label>
                        </div>
                        <button type="submit" class="btn btn-success btn-lg" style="margin: 10px 80px; width:50%; padding: 8px 12px">注册</button>
                    </fieldset>
                </form>
                <br>
                <small>已有账户?</small><a href="{{ url_for('auth.auth_login') }}">&nbsp;登录</a>
            </div>
            <div class="col-md-4 column">
            </div>
        </div>
    </div>
{% endblock %}